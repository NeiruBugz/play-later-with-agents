pre-commit:
  commands:
    frontend-lint:
      root: "web/"
      run: pnpm lint
    backend-format:
      run: source api/.venv/bin/activate && cd api && poetry run ruff format
    schema-generation:
      glob: "api/**/*.py"
      run: source api/.venv/bin/activate && cd api && python scripts/generate_schema.py && cd ../web && pnpm gen:api
    infra-format:
      run: terraform fmt -recursive infra

commit-msg:
  commands:
    lint-commit-msg:
      run: pnpm commitlint --edit {1}
